@page "/book/{Id:int}"
@inherits BookDetailBase

<div id="wrapper">

    <Header Class="header" UkSticky="top:20; cls-active:header-sticky">
        <BreadcrumbsMobile>
            <li><a href="#"> Course <b>Plus</b> </a></li>
        </BreadcrumbsMobile>
        <BreadcrumbsDesktop>
            <li><a href="/"> <i class="uil-home-alt"></i> </a></li>
            <li><a href="/books">Books</a></li>
            <li>@OneBook?.Title</li>
        </BreadcrumbsDesktop>
    </Header>

    <SearchOnMobile></SearchOnMobile>

    <SearchOnDesktop></SearchOnDesktop>

    <SideNav></SideNav>

        <!-- content -->
        <div class="page-content">

            <div class="page-content-inner">

                @if (OneBook == null)
                {
                    <i>Loading...</i>
                }
                else
                {
                    <div class="container-small">

                        <div class="uk-grid-large mt-lg-3" uk-grid>
                            <div class="uk-width-1-3@m uk-width-1-2@s">
                                <div uk-sticky="offset:70; bottom:true; media:@@s">

                                    <div uk-lightbox>

                                        @if (OneBook.Image != null)
                                        {
                                            <img class="uk-box-shadow-xlarge" alt="" src="@String.Format("data:image/jpg;base64,{0}", Convert.ToBase64String(OneBook.Image.Data))">
                                        }

                                    </div>

                                    <ul class="uk-list uk-list-divider text-small mt-lg-4">
                                        <li> Visited 120 </li>
                                        <li> Publication year @OneBook.PublishingDate.ToString("yyyy")</li>
                                        <li> Downloaded 120 </li>
                                    </ul>

                                    <button class="btn btn-info" @onclick="OpenCoverInNewTab">
                                        <i class="icon-feather-book-open mr-2"></i> Cover
                                    </button>
                                    <button class="btn btn-danger" @onclick="NavigateToPurchaseLink">
                                        <i class="icon-feather-shopping-cart mr-2"></i> Buy
                                    </button>

                                </div>
                            </div>

                            <div class="uk-width-2-3@m uk-width-1-2@s">
                                <h2>@OneBook.Title</h2>
                                <hr class="mt-0">
                                <h4> Description </h4>
                                <br/>
                                <p>@((MarkupString)OneBook.Description.Replace("\n", "<br />"))</p>
                                <h4>Book Information</h4>
                                <p class="mb-0"><strong>Page Count</strong>: 118</p>
                                <p class="mt-0"><strong>Word Count</strong>: 15872</p>
                            </div>


                        </div>

                    </div>

                }

                <Footer></Footer>>

            </div>

        </div>

    </div>
